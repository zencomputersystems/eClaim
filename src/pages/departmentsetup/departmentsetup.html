<!--
  Generated template for the DepartmentsetupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>DEPARTMENT SETUP</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-fab top right edge>
      <button ion-fab mini (click)="AddDepartmentClick()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
  

    
    <ion-list>
      <ion-item>
          <table class="Tabler">
              <tr class="linedsg TColor">
                  <th class="lgl1 tblBrLeft" style="width:60px">NO.</th>
                  <th class="lgl1">TITLE</th>
                  <th class="lgl1">COMPANY</th>
                  <th class="lgl1">DESCRIPTION</th>
                  <th class="lgl1 tblBrRight" style="width:90px">ACTION</th>
  
              </tr>
  
              <tr class="col7" *ngFor="let department of departments; let i=index">
                  <td class="lgl1">{{i+1}}</td>
                  <td class="lgl1">{{department.NAME}}</td>
                  <td class="lgl1">{{department.COMPANY}}</td>
                  <td class="lgl1">{{department.DESCRIPTION}}</td>
                  <td class="lgl1 fColor">
                      <button ion-button item-end  (click)="EditClick(department.DEPARTMENT_GUID)"><ion-icon name="md-create"></ion-icon></button>
                      <button ion-button item-end (click)="DeleteClick(department.DEPARTMENT_GUID)"><ion-icon name="md-close"></ion-icon></button>
                  </td>
              </tr>
  
  
          </table>
      </ion-item>
  </ion-list>

  <!-- add department form start-->
  <div class="blackcontainer" *ngIf="AddDepartmentClicked">
  </div>
  <div class="popup" padding *ngIf="AddDepartmentClicked">

    <ion-card class="cm">
      <ion-card-header class="icTitle headerColor-white ">

        <div class="icHeaderText">REGISTER NEW DEPARTMENT</div>
        <button class="btnR" (click)="CloseDepartmentClick()">
          <ion-icon name="md-close"></ion-icon> 
        </button>

      </ion-card-header>

      <ion-list>
        <form [formGroup]="Departmentform">
          <ion-item>
            <ion-label stacked>{{"TITLE"}}</ion-label>
            <ion-input type="text" formControlName="NAME" [(ngModel)]="NAME_ngModel_Add" 
            placeholder="{{'Please fill in the tittle of department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"COMPANY"}}</ion-label>
            <ion-input type="text" formControlName="COMPANY" [(ngModel)]="COMPANY_ngModel_Add" 
            placeholder="{{'Please fill in the company ame of department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"DESCRIPTION"}}</ion-label>
            <ion-input type="text" formControlName="DESCRIPTION" [(ngModel)]="DESCRIPTION_ngModel_Add" 
            placeholder="{{'Please fill in the description'}}"></ion-input>
          </ion-item>
          <div class="btn">
            <button ion-button class="bgColor-grey fontColor-white btnStyle1" [disabled]="!Departmentform.valid" (click)="Save()">{{"SUBMIT" | translate}}</button></div>
        </form>
      </ion-list>
    </ion-card>
  </div>

  <!-- edit claimtype form start-->
   <div class="blackcontainer" *ngIf="EditDepartmentClicked">
  </div>
  <div class="popup" padding *ngIf="EditDepartmentClicked">
    <ion-card class="cm">
      <ion-card-header class="icTitle headerColor-white ">
        <div class="icHeaderText">UPDATE DEPARTMENT</div>
        <button class="btnR" (click)="CloseDepartmentClick()">
          <ion-icon name="md-close"></ion-icon> 
        </button>
      </ion-card-header>

      <ion-list>
        <form [formGroup]="Departmentform">
          <ion-item>
            
            <ion-label stacked>{{"TITLE"}}</ion-label>
            <ion-input type="text" formControlName="NAME" [(ngModel)]="NAME_ngModel_Edit" 
             placeholder="{{'Please fill in the tittle in the department'}}"></ion-input>
          </ion-item>


          <ion-item>
            <ion-label stacked>{{"COMPANY"}}</ion-label>
            <ion-input type="text" formControlName="COMPANY" [(ngModel)]="COMPANY_ngModel_Edit" 
            placeholder="{{'Please fill in the company name of the department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"DESCRIPTION"}}</ion-label>
            <ion-input type="text" formControlName="DESCRIPTION" [(ngModel)]="DESCRIPTION_ngModel_Edit"
             placeholder="{{'Please fill in the description'}}"></ion-input>
          </ion-item>
          <div class="btn">
            <button ion-button class="bgColor-grey fontColor-white btnStyle1" (click)="Update(department_details.DEPARTMENT_GUID)">{{"SUBMIT" | translate}}</button></div>
        </form>
      </ion-list>
    </ion-card>
  </div> 
  <!-- edit bank form end-->

 
</ion-content>
