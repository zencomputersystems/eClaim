<!--
  Generated template for the DepartmentsetupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>DEPARTMENT SETUP</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-fab top right edge>
      <button ion-fab mini (click)="AddDepartmentClick()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
  <ion-list>
      <!-- <ion-list-header>
       TITLE
      </ion-list-header> -->
      <ion-item class="bgColor-lightGrey">
        <ion-label>S.No</ion-label>
        <ion-label class="textRight" item-end>TITLE</ion-label>
        <ion-label class="textRight" item-end>COMPANY</ion-label>
        <ion-label class="textRight" item-end>DESCRIPTION</ion-label>
        <ion-label class="textRight" item-end>ACTION</ion-label>

      </ion-item>
      <ion-item *ngFor="let department of departments; let i=index">
        
        <ion-label item-start>{{i+1}}</ion-label>
        <ion-label item-start class="textRight">{{department.NAME}}</ion-label>
        <ion-label item-start class="textRight">{{department.COMPANY}}</ion-label>
        <ion-label item-start class="textRight">{{department.DESCRIPTION}}</ion-label>

        <button ion-button item-end (click)="EditClick(department.DEPARTMENT_GUID)"><ion-icon name="md-create"></ion-icon></button>
        <button ion-button item-end (click)="DeleteClick(department.DEPARTMENT_GUID)"><ion-icon name="md-close"></ion-icon></button>
      </ion-item>
      <!--<ion-icon color="success" item-right [name]="isGroupShown(i) ? 'arrow-dropdown' : 'arrow-dropright'"></ion-icon>-->
    <!-- <ion-item *ngFor="let department of departments">
      {{department.NAME}}   
      {{department.COMPANY}}
      {{department.DESCRIPTION}}
      <button ion-button item-end (click)="EditClick(department.DEPARTMENT_GUID)"><ion-icon name="md-create"></ion-icon></button>
      <button ion-button item-end (click)="DeleteClick(department.DEPARTMENT_GUID)"><ion-icon name="md-close"></ion-icon></button> 
    </ion-item>-->
  </ion-list>
  

  <!-- add department form start-->
  <div class="blackcontainer" *ngIf="AddDepartmentClicked">
  </div>
  <div class="popup" padding *ngIf="AddDepartmentClicked">

    <ion-card>
      <ion-card-header class="icTitle headerColor-white ">

        <div class="icHeaderText">REGISTER NEW DEPARTMENT</div>
        <button class="btnR" (click)="CloseDepartmentClick()">
          <ion-icon name="md-close"></ion-icon> 
        </button>

      </ion-card-header>

      <ion-list>
        <form [formGroup]="Departmentform">
          <ion-item>
            <ion-label stacked>{{"TITLE"}}</ion-label>
            <ion-input type="text" formControlName="NAME" [(ngModel)]="department_entry.NAME" placeholder="{{'Please fill in the tittle of department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"COMPANY"}}</ion-label>
            <ion-input type="text" formControlName="COMPANY" [(ngModel)]="department_entry.COMPANY" placeholder="{{'Please fill in the company ame of department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"DESCRIPTION"}}</ion-label>
            <ion-input type="text" formControlName="DESCRIPTION" [(ngModel)]="department_entry.DESCRIPTION" placeholder="{{'Please fill in the description'}}"></ion-input>
          </ion-item>
          <div class="btn">
            <button ion-button class="bgColor-grey fontColor-white btnStyle1" [disabled]="!Departmentform.valid" (click)="Save()">{{"SUBMIT" | translate}}</button></div>
        </form>
      </ion-list>
    </ion-card>
  </div>

  <!-- edit claimtype form start-->
   <div class="blackcontainer" *ngIf="EditDepartmentClicked">
  </div>
  <div class="popup" padding *ngIf="EditDepartmentClicked">
    <ion-card>
      <ion-card-header class="icTitle headerColor-white ">
        <div class="icHeaderText">UPDATE DEPARTMENT</div>
        <button class="btnR" (click)="CloseDepartmentClick()">
          <ion-icon name="md-close"></ion-icon> 
        </button>
      </ion-card-header>

      <ion-list>
        <form [formGroup]="Departmentform">
          <ion-item>
            
            <ion-label stacked>{{"TITLE"}}</ion-label>
            <ion-input type="text" formControlName="NAME" [(ngModel)]="department_entry.NAME" value="{{department.NAME}}" placeholder="{{'Please fill in the tittle in the department'}}"></ion-input>
          </ion-item>


          <ion-item>
            <ion-label stacked>{{"COMPANY"}}</ion-label>
            <ion-input type="text" formControlName="COMPANY" [(ngModel)]="department_entry.COMPANY" value="{{department.COMPANY}}" placeholder="{{'Please fill in the company name of the department'}}"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label stacked>{{"DESCRIPTION"}}</ion-label>
            <ion-input type="text" formControlName="DESCRIPTION" [(ngModel)]="department_entry.DESCRIPTION" value="{{department.DESCRIPTION}}" placeholder="{{'Please fill in the description'}}"></ion-input>
          </ion-item>
          <div class="btn">
            <button ion-button class="bgColor-grey fontColor-white btnStyle1" [disabled]="!Departmentform.valid" (click)="Update(department.DEPARTMENT_GUID)">{{"SUBMIT" | translate}}</button></div>
        </form>
      </ion-list>
    </ion-card>
  </div> 
  <!-- edit bank form end-->

 
</ion-content>
