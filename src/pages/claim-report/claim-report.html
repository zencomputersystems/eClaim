<!--
  Generated template for the ClaimReportPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="primary500">
        <ion-title>Claim Report</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <ion-item>

        <ion-label>Department :</ion-label>
        <ion-select interface="popover" (ionChange)="BindEmployeesbyDepartment($event)" #ddlDept>
                <ion-option *ngFor="let dept of deptList" [value]="dept.DEPARTMENT_GUID">{{dept.NAME}}</ion-option>
        </ion-select>
    </ion-item>
    <ion-item>
        <ion-label>User Name :</ion-label>
        <ion-select interface="popover" #ddlEmployee>
                <ion-option *ngFor="let emp of employeeList" [value]="emp.USER_GUID">{{emp.FULLNAME}}</ion-option>
    </ion-select>
    </ion-item>

    <ion-item>
    <ion-label>Claim Month :</ion-label>
    <ion-select interface="popover" #ddlmonth>
        <ion-option value="1">Jan</ion-option>
        <ion-option value="2">Feb</ion-option>
        <ion-option value="3">Mar</ion-option>
        <ion-option value="4">Apr</ion-option>
        <ion-option value="5">May</ion-option>
        <ion-option value="6">Jun</ion-option>
        <ion-option value="7">Jul</ion-option>
        <ion-option value="8">Aug</ion-option>
        <ion-option value="9">Sep</ion-option>
        <ion-option value="10">Oct</ion-option>
        <ion-option value="11">Nov</ion-option>
        <ion-option value="12">Dec</ion-option>
    </ion-select>
</ion-item>
    <ion-item>
    <ion-label>Claim Type:</ion-label>
    <ion-select interface="popover" #ddlClaimTypes>
            <ion-option *ngFor="let claimType of claimTypeList" [value]="claimType.CLAIM_TYPE_GUID">{{claimType.NAME}}</ion-option>
</ion-select>
</ion-item>
   <ion-item>
        <button ion-button item-end (click)="SearchClaimsData(ddlDept.value,ddlEmployee.value,ddlmonth.value,ddlClaimTypes.value)">Search</button>
      </ion-item>

    <ion-list>
        <ion-item>
            <table class="Tabler ">
                <tr class="linedsg TColor">
                    <th class="lgl1 tblBrLeft" style="width:60px">NO.</th>
                    <th class="lgl1">DATE</th>
                    <th class="lgl1">SOC#</th>
                    <!-- <th class="lgl1">Location as per SOC</th> -->
                    <th class="lgl1">Customer</th>
                    <!-- <th class="lgl1">Remarks(Location- if is not at customer location)</th> -->
                    <!-- <th class="lgl1">Recommended Post Code</th> -->
                    <th class="lgl1" *ngIf="travelClaimType">From</th>
                    <th class="lgl1" *ngIf="travelClaimType">To</th>
                    <th class="lgl1" *ngIf="travelClaimType">Distance (KM)</th>
                    <!-- <th class="lgl1">Distance(Outstn/Oths)KM</th> -->
                    <!-- <th class="lgl1">Type</th> -->
                    <th class="lgl1" *ngIf="travelClaimType">Mileage(RM)</th>
                    <!-- <th class="lgl1">Parking(GST Inclusive)</th> -->
                    <!-- <th class="lgl1">Parking (Without GST)</th> -->
                    <!-- <th class="lgl1">TnGo</th>
                    <th class="lgl1">Public Transport</th>
                    <th class="lgl1">Hotel(Incl GST)</th>
                    <th class="lgl1">Outstation Allowance</th> -->
                    <th class="lgl1">Total(RM)</th>
                </tr>

                <tr class="col7" *ngFor="let claim of claimsList; let i=index">
                    <td class="lgl1">{{i+1}}</td>
                    <td class="lgl1">{{claim.TRAVEL_DATE | date:'M/d/y'}}</td>
                    <td class="lgl1">{{claim.SOC_NO}}</td>
                    <td class="lgl1">{{claim.CUSTOMER_NAME}}</td>
                    <td class="lgl1" *ngIf="travelClaimType">{{claim.FROM}}</td>
                    <td class="lgl1" *ngIf="travelClaimType">{{claim.TO}}</td>
                    <td class="lgl1" *ngIf="travelClaimType">{{claim.DISTANCE_KM}}</td>
                    <td class="lgl1" *ngIf="travelClaimType">{{claim.MILEAGE_AMOUNT | number:'1.2-2'}}</td>
                    <td class="lgl1">{{claim.CLAIM_AMOUNT | number:'1.2-2'}}</td>
                </tr>


            </table>
        </ion-item>
    </ion-list>
    <ion-item>

        <ion-label>Total :</ion-label>
        <ion-label item-end>{{totalClaimAmount}}</ion-label>
    </ion-item>

</ion-content>